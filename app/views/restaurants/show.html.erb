<script type="text/javascript" >
  restaurantId = <%= @restaurant.id %>;
  categoryId = <%= @category_id %>
</script>

<div class="container"></h2>
        <div class="row">
            <div class="col-lg-8 col-md-8 col-lg-offset-2 col-md-offset-2">
                <div class="modal-body">
                  <div class="lr">
                    <div class="rl">
              
                    </div>
                  </div>
                </div>
              <h2 class="section-heading"><%= @restaurant.name %></h2>
              <h3 class="section-subheading"><%= @restaurant.address %></h3>
              <img class="img-responsive img-centered" src="/assets/images/<%= @restaurant.image %>" alt="" data-no-retina>
              <p>Yelp category <%= @data["categories"][0]["title"] %></p>
              <p>Yelp Price: <%= @data["price"] %></p></p>
              <p>Yelp Rating: <%= @data["rating"] %></p></p>
              <p>Phone: <%= @data["display_phone"] %></p>
                  
                  
      <hr>            
 <div id="app">

      <div>
         <ul>
          <!-- <div v-for="review in reviews" v-if="review.restaurantId === newRestaurantId && review.categoryId === newReviewCategoryId"> -->
          <div v-for="review in reviews" v-if="review.restaurantId === newRestaurantId">
           <div class="media">
                <a class="pull-left" href="#">
                    <img class="media-object" v-bind:src="'/' + review.user.image" alt="" width=40>

                </a>
                <div class="media-body">
                    <h4 class="media-heading">{{ review.user.name }} - <i class="fa fa-star" style="color: gold" v-for="number in Array.from(Array(review.rating).keys())"></i> 
                        <small>{{ review.createdAt }}</small>
                    </h4>
                    {{ review.text }}
                </div>
            </div>
          </div>
        </ul>
      </div>




 <div class="well">
    <h4>Write a review:</h4>

     Rating: 
     <select v-model='newReviewRating'>
       <option value='1'>1</option>
       <option value='2'>2</option>
       <option value='3'>3</option>
       <option value='4'>4</option>
       <option value='5'>5</option>
     </select>

     Category:
     <select v-model='newReviewCategoryId'>
       <% Category.all.each do |category| %>
        <option value='<%= category.id %>'><%= category.name %></option>
       <% end %>
     </select>



     <div class="form-group">
        <textarea class="form-control" rows="3" v-model="newReviewText"></textarea>
      <!-- <input type="text" v-model="newReviewText" cols="30" rows="10">  -->
     </div>
     <button class="btn btn-primary" v-on:click="addReview()">Submit</button>
  </div>



<!-- google map -->
    <div class="map">
        <div id="restaurant_map"></div>
    </div>


    <style>
     .map {
    }
    #homepage_map {
    height: 300px;
    }
    </style>


<script type="text/javascript">
function initMap() {
  var map = new google.maps.Map(document.getElementById('homepage_map'), {
    center: {lat: 41.9845824, lng: -87.69715930000001},
    zoom: 8
  });
}
</script>


</div>
</div>
</div>
</div>

